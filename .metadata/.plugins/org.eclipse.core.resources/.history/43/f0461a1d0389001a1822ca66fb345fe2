package com.transport.dataservice.service;

import java.util.List;
import java.util.stream.Collectors;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import com.transport.dataservice.entity.EmployeeData;
import com.transport.dataservice.model.DataServiceModel;
import com.transport.dataservice.repository.DataServiceRepository;

@Component
public class Service {
	
	@Autowired
	private DataServiceRepository dataServiceRepository;
	public List<DataServiceModel> findAllRequests()
	{
		 List<EmployeeData> emp=this.dataServiceRepository.findAll();
		 List<DataServiceModel> ldsm=emp.stream().map(data->{
			 DataServiceModel dsm=new DataServiceModel(data.getEmpId(),data.getPickupLocation(),data.getDropLocation(),data.getStatus());
			 return dsm;
		 }).collect(Collectors.toList());
		
		 return ldsm;
	}
	public DataServiceModel findEmployee(Integer empid)
	{
		DataServiceModel dsm=new DataServiceModel();
		EmployeeData emd= this.dataServiceRepository.findByEmpId(empid);
		dsm.setEmpId(emd.getEmpId());
		dsm.setPic_upLocation(emd.getPickupLocation());
		return dsm;
	}
}
